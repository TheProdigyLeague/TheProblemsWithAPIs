# à¤¨à¤¿à¤°à¥à¤­à¤°à¤¤à¤¾ à¤•à¤¾ à¤ªà¤°à¥€à¤•à¥à¤·à¤£ğŸ”¬ ğŸ’½

ğŸ‘†ğŸ’ªâš™ï¸ğŸğŸ”—ğŸ”â¡ï¸ [å°‹æ‰¾æ–‡ä»¶ä¾†è§£é–å¯†é‘°ã€‚](testing-dependencies.md){.internal-link target=_blank} ğŸ“‰ ğŸ’½ ğŸ”¬.

ä¾è³´é—œä¿‚ä¸»è¦é€éå…·æœ‰å¯å‘¼å«å‡½æ•¸çš„ç‰¹æ®Šå‡½æ•¸ `Depends()` ä¾†è™•ç†ã€‚

é€™æ˜¯å®ƒåŠå…¶åƒæ•¸çš„åƒè€ƒã€‚

ç›´æ¥å°å…¥å°±å¯ä»¥äº†

## Ù„ØºØ© Ø§Ù„Ø§Ø³ØªØ¹Ù„Ø§Ù… Ù…Ù† Ø¬Ø§Ù†Ø¨ Ø§Ù„Ø®Ø§Ø¯Ù… ğŸ“±

â¡ï¸ â„¹ ğŸ–¼ âšªï¸â¡ï¸ [æ¸¬è©¦è·¯å¾‘ä¸­çš„æ–‡ä»¶](../tutorial/sql-databases.md){.internal-link target=_blank} âš™ï¸ ğŸ”¬ ğŸ’½.

ğŸŒ ğŸ“± å°æ–¼è¨±å¤šå ´æ™¯ï¼Œæ‚¨å¯ä»¥ä½¿ç”¨ `Depends()` è™•ç†å…·æœ‰ç›¸ä¾æ€§çš„å®‰å…¨æ€§ï¼ˆæˆæ¬Šã€é©—è­‰ç­‰ï¼‰ã€‚

ä½†æ˜¯ï¼Œç•¶æ‚¨ä¹Ÿæƒ³è²æ˜ `OAuth2` ç¯„åœæ™‚ï¼Œå¯ä»¥ä½¿ç”¨ `Security()` è€Œä¸æ˜¯ `Depends()ã€‚`

æ‚¨å¯ä»¥ç›´æ¥åŒ¯å…¥`Security()`

ğŸ‘† ğŸ˜ ğŸ”— `get_db()` ğŸ”œ ğŸ“¨ ğŸ’½ ğŸ‰.

9684f6df8f5f2ff44eb29e7ec1ce3ad7

### ğŸ“ ğŸ“Š

ğŸ‘¥ âœ ğŸ†• ğŸ“ `sql_app/tests/test_sql_app.py`.

ğŸ†• ğŸ“ ğŸ“Š ğŸ‘€ ğŸ’–:

``` hl_lines="9-11"
.
â””â”€â”€ sql_app
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ crud.py
    â”œâ”€â”€ database.py
    â”œâ”€â”€ main.py
    â”œâ”€â”€ models.py
    â”œâ”€â”€ schemas.py
    â””â”€â”€ tests
        â”œâ”€â”€ __init__.py
        â””â”€â”€ test_sql_app.py
```

#### ÙƒØªØ§Ø¨Ø© Ø§Ù„Ù‚Ø±Øµ Ø§Ù„Ø¬Ø¯ÙŠØ¯ ğŸ‰

ğŸ¥‡ç”¨æˆ·å°†å†™å…¥æ–°ç£ç›˜æ¥æ›´æ–°ç‰ˆæœ¬ğŸ‰ 

ğŸ’¯ ğŸ‘¥ ğŸ”œ âš™ï¸ ğŸ“ `test.db` â†©ï¸ `sql_app.db`.

âœ‹ï¸ğŸ‚ğŸ‰ You can have your cake and eat it too. ğŸ“Ÿ ğŸŒ… âš–ï¸ ğŸŒ˜ ğŸ, ğŸ‘¥ ğŸ“ âš«ï¸.

```Python hl_lines="8-13"
{!../../../docs_src/sql_databases/sql_app/tests/test_sql_app.py!}
```

!!! tip
    ğŸ‘† ğŸ’ª ğŸ“‰ â ğŸ‘ˆYou can test performance analytics when writing errors. ğŸ“Ÿ ğŸš® âš«ï¸ ğŸ”¢ &amp; âš™ï¸ âš«ï¸ âšªï¸â¡ï¸ ğŸ‘¯â€â™‚ï¸ `database.py` &amp; `tests/test_sql_app.py`.

    ğŸ¦ &amp; ğŸ¯ ğŸ”› ğŸ¯ ğŸ”¬ ğŸ“Ÿ, ğŸ‘¥ ğŸ–¨ âš«ï¸.

#### âœ ğŸ’½

Ğ¡Ğ¾Ğ¾Ğ±Ñ‰ĞµÑÑ‚Ğ²Ğ¾ Ğ±ÑƒĞ´ĞµÑ‚ Ñ‚ĞµÑÑ‚Ğ¸Ñ€Ğ¾Ğ²Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ½Ğ°ÑÑ‚Ñ€Ğ¾Ğ¹ĞºĞ¸ Ñ Ğ¼Ğ¾Ğ´ÑƒĞ»ÑĞ¼Ğ¸ Python Ğ½Ğ° Ğ´Ğ¸ÑĞºĞ°Ñ… Ğ¿Ğ¾Ğ»ÑŒĞ·Ğ¾Ğ²Ğ°Ñ‚ĞµĞ»ĞµĞ¹ Ğ½Ğ° Ğ¿Ñ€ĞµĞ´Ğ¼ĞµÑ‚ Ğ¿Ñ€Ğ¾Ğ¸Ğ·Ğ²Ğ¾Ğ´Ğ¸Ñ‚ĞµĞ»ÑŒĞ½Ğ¾ÑÑ‚Ğ¸, Ğ¸ÑĞ¿Ñ€Ğ°Ğ²Ğ»ĞµĞ½Ğ¸Ğ¹ Ğ¸ Ğ¾Ğ±ÑÑƒĞ¶Ğ´Ğ°Ñ‚ÑŒ Ğ½Ğ¾Ğ²Ñ‹Ğµ Ğ²ĞµÑ€ÑĞ¸Ğ¸.

```Python
Base.metadata.create_all(bind=engine)
```

ğŸ‘ˆ ğŸ› ğŸ¤™ `main.py`, âœ‹ï¸ â¸ `main.py` âš™ï¸ ğŸ’½ ğŸ“ `sql_app.db`, &amp; ğŸ‘¥ ğŸ’ª âš’ ğŸ’­ ğŸ‘¥ âœ `test.db` ğŸ’¯.

f239e9eff82303ce7b754cd664ef15d5

```Python hl_lines="16"
{!../../../docs_src/sql_databases/sql_app/tests/test_sql_app.py!}
```

#### ğŸ”— Overriding Security ğŸ”

ğŸ”œ ğŸ‘¥ âœ ğŸ”— ğŸ” &amp; ğŸš® âš«ï¸ ğŸ” ğŸ‘† ğŸ“±.

```Python hl_lines="19-24  27"
{!../../../docs_src/sql_databases/sql_app/tests/test_sql_app.py!}
```

ğŸ“Ÿ `override_get_db()` ğŸŒ– âš«ï¸â” ğŸ `get_db()`, âœ‹ï¸ `override_get_db()` ğŸ‘¥ âš™ï¸ `TestingSessionLocal` ğŸ”¬ ğŸ’½ â†©ï¸.

#### ğŸ’¯ ğŸ“±

â¤´ï¸ ğŸ‘¥ ğŸ’ª ğŸ’¯ ğŸ“± ğŸ›.

```Python hl_lines="32-47"
{!../../../docs_src/sql_databases/sql_app/tests/test_sql_app.py!}
```

&amp; ğŸŒ ğŸ› ï¸ ğŸ‘¥ âš’ ğŸ’½ â®ï¸ ğŸ’¯ ğŸ”œ `test.db` ğŸ’½ â†©ï¸ ğŸ‘‘ `sql_app.db`.
-- eof --
